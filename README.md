# Codemaze

![coverage-badge](./metadata/coverage.svg) [![linting: pylint](https://img.shields.io/badge/linting-pylint-yellowgreen)](https://github.com/pylint-dev/pylint)

## Technologies
- [Flask](https://flask.palletsprojects.com/en/2.3.x/)
- [flask-restx](https://flask-restx.readthedocs.io/en/latest/)
- [SQLAlchemy](https://www.sqlalchemy.org)
- [SQLAlchemy-Utils](https://sqlalchemy-utils.readthedocs.io/en/latest/)
- [PyJWT](https://pyjwt.readthedocs.io/en/stable/)
- [pytest](https://docs.pytest.org/en/7.3.x/)
- [pytest-cov](https://pytest-cov.readthedocs.io)
- [coverage-badge](https://pypi.org/project/coverage-badge/)
- [pyclean](https://pypi.org/project/pyclean/)
- [pylint](https://pylint.readthedocs.io/en/latest/#)

## Install Requirements

Install all requirements by going to the root folder and running:

```bash
make setup
```

## Running

The environment var `CODEMAZE_KEY` must be set with the secret that will be used to generate JWTs. It must be a 256 bit string and can be generated by running the following python script:

```python
import secrets

secrets.token_bytes(32)
```

### As debug (localhost:48345)

The environment var `DEBUG_DB_STRING` must be set with the debug database string or an exception will be raised.

Navigate to the root folder and run:

```bash
make run
```

### Tests

The environment var `TEST_DB_STRING` must be set with the testing database string or an exception will be raised.

Navigate to the root folder and run:

```bash
make test
```

## Modelling

### Entity-Relationship Diagram (ERD)

![entity-relationship](./metadata/diagrama.png)

### Data-Structure diagram (DSD)

![data-structure](./metadata/logico.png)
